{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{useFrame}from'@react-three/fiber';import{useGLTF}from'@react-three/drei';import{jsx as _jsx}from\"react/jsx-runtime\";function ToiletModel(_ref){var modelPath=_ref.modelPath;var ref=useRef();var _useGLTF=useGLTF(modelPath),scene=_useGLTF.scene;// Load the 3D model\nvar scrollRef=useRef(0);// Center the model's geometry to ensure it rotates around its own axis\nscene.traverse(function(child){if(child.isMesh){child.castShadow=true;// Enable shadow casting\nchild.receiveShadow=true;// Enable shadow receiving\n}});useEffect(function(){// Apply initial rotation after model is loaded\nif(ref.current){ref.current.rotation.y=Math.PI;// 180 degrees rotation around Y-axis\n}// Function to update the scrollRef.current based on the scroll position\nvar handleScroll=function handleScroll(){var scrollY=window.scrollY||window.pageYOffset;scrollRef.current=scrollY;};window.addEventListener('scroll',handleScroll);// Cleanup the event listener on component unmount\nreturn function(){window.removeEventListener('scroll',handleScroll);};},[]);useFrame(function(){if(ref.current){var scrollY=scrollRef.current;ref.current.rotation.y=scrollY*0.01+Math.PI;// Adding initial rotation\nvar scale=Math.max(0.5,2.5-scrollY*0.002);// Prevent the scale from going below 0.5\nref.current.scale.set(scale,scale,scale);}});return/*#__PURE__*/_jsx(\"primitive\",{ref:ref,object:scene,scale:[1,1,1]// Initial scale, will be adjusted in useFrame\n,position:[0,-3,0]// Center the model at the origin\n});}export default ToiletModel;","map":{"version":3,"names":["React","useRef","useEffect","useFrame","useGLTF","jsx","_jsx","ToiletModel","_ref","modelPath","ref","_useGLTF","scene","scrollRef","traverse","child","isMesh","castShadow","receiveShadow","current","rotation","y","Math","PI","handleScroll","scrollY","window","pageYOffset","addEventListener","removeEventListener","scale","max","set","object","position"],"sources":["C:/Users/Nayyu/Desktop/skibidai-public-build/src/ToiletModel.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { useGLTF } from '@react-three/drei';\n\nfunction ToiletModel({ modelPath }) {\n  const ref = useRef();\n  const { scene } = useGLTF(modelPath); // Load the 3D model\n  const scrollRef = useRef(0);\n\n  // Center the model's geometry to ensure it rotates around its own axis\n  scene.traverse((child) => {\n    if (child.isMesh) {\n      child.castShadow = true; // Enable shadow casting\n      child.receiveShadow = true; // Enable shadow receiving\n    }\n  });\n\n  useEffect(() => {\n    // Apply initial rotation after model is loaded\n    if (ref.current) {\n      ref.current.rotation.y = Math.PI; // 180 degrees rotation around Y-axis\n    }\n\n    // Function to update the scrollRef.current based on the scroll position\n    const handleScroll = () => {\n      const scrollY = window.scrollY || window.pageYOffset;\n      scrollRef.current = scrollY;\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    // Cleanup the event listener on component unmount\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  useFrame(() => {\n    if (ref.current) {\n      const scrollY = scrollRef.current;\n      ref.current.rotation.y = scrollY * 0.01 + Math.PI; // Adding initial rotation\n\n      const scale = Math.max(0.5, 2.5 - scrollY * 0.002); // Prevent the scale from going below 0.5\n      ref.current.scale.set(scale, scale, scale);\n    }\n  });\n\n  return (\n    <primitive\n      ref={ref}\n      object={scene}\n      scale={[1, 1, 1]} // Initial scale, will be adjusted in useFrame\n      position={[0, -3, 0]} // Center the model at the origin\n    />\n  );\n}\n\nexport default ToiletModel;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAChD,OAASC,QAAQ,KAAQ,oBAAoB,CAC7C,OAASC,OAAO,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAgB,IAAb,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAC9B,GAAM,CAAAC,GAAG,CAAGT,MAAM,CAAC,CAAC,CACpB,IAAAU,QAAA,CAAkBP,OAAO,CAACK,SAAS,CAAC,CAA5BG,KAAK,CAAAD,QAAA,CAALC,KAAK,CAAyB;AACtC,GAAM,CAAAC,SAAS,CAAGZ,MAAM,CAAC,CAAC,CAAC,CAE3B;AACAW,KAAK,CAACE,QAAQ,CAAC,SAACC,KAAK,CAAK,CACxB,GAAIA,KAAK,CAACC,MAAM,CAAE,CAChBD,KAAK,CAACE,UAAU,CAAG,IAAI,CAAE;AACzBF,KAAK,CAACG,aAAa,CAAG,IAAI,CAAE;AAC9B,CACF,CAAC,CAAC,CAEFhB,SAAS,CAAC,UAAM,CACd;AACA,GAAIQ,GAAG,CAACS,OAAO,CAAE,CACfT,GAAG,CAACS,OAAO,CAACC,QAAQ,CAACC,CAAC,CAAGC,IAAI,CAACC,EAAE,CAAE;AACpC,CAEA;AACA,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,GAAM,CAAAC,OAAO,CAAGC,MAAM,CAACD,OAAO,EAAIC,MAAM,CAACC,WAAW,CACpDd,SAAS,CAACM,OAAO,CAAGM,OAAO,CAC7B,CAAC,CAEDC,MAAM,CAACE,gBAAgB,CAAC,QAAQ,CAAEJ,YAAY,CAAC,CAE/C;AACA,MAAO,WAAM,CACXE,MAAM,CAACG,mBAAmB,CAAC,QAAQ,CAAEL,YAAY,CAAC,CACpD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAENrB,QAAQ,CAAC,UAAM,CACb,GAAIO,GAAG,CAACS,OAAO,CAAE,CACf,GAAM,CAAAM,OAAO,CAAGZ,SAAS,CAACM,OAAO,CACjCT,GAAG,CAACS,OAAO,CAACC,QAAQ,CAACC,CAAC,CAAGI,OAAO,CAAG,IAAI,CAAGH,IAAI,CAACC,EAAE,CAAE;AAEnD,GAAM,CAAAO,KAAK,CAAGR,IAAI,CAACS,GAAG,CAAC,GAAG,CAAE,GAAG,CAAGN,OAAO,CAAG,KAAK,CAAC,CAAE;AACpDf,GAAG,CAACS,OAAO,CAACW,KAAK,CAACE,GAAG,CAACF,KAAK,CAAEA,KAAK,CAAEA,KAAK,CAAC,CAC5C,CACF,CAAC,CAAC,CAEF,mBACExB,IAAA,cACEI,GAAG,CAAEA,GAAI,CACTuB,MAAM,CAAErB,KAAM,CACdkB,KAAK,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAG;AAAA,CAClBI,QAAQ,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAG;AAAA,CACvB,CAAC,CAEN,CAEA,cAAe,CAAA3B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}