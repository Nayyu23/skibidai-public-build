{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Loader, FileLoader, BufferGeometry, Float32BufferAttribute } from \"three\";\nvar XYZLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(XYZLoader, _Loader);\n  var _super = _createSuper(XYZLoader);\n  function XYZLoader() {\n    _classCallCheck(this, XYZLoader);\n    return _super.apply(this, arguments);\n  }\n  _createClass(XYZLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(text) {\n      var lines = text.split(\"\\n\");\n      var vertices = [];\n      var colors = [];\n      var _iterator = _createForOfIteratorHelper(lines),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var line = _step.value;\n          line = line.trim();\n          if (line.charAt(0) === \"#\") continue;\n          var lineValues = line.split(/\\s+/);\n          if (lineValues.length === 3) {\n            vertices.push(parseFloat(lineValues[0]));\n            vertices.push(parseFloat(lineValues[1]));\n            vertices.push(parseFloat(lineValues[2]));\n          }\n          if (lineValues.length === 6) {\n            vertices.push(parseFloat(lineValues[0]));\n            vertices.push(parseFloat(lineValues[1]));\n            vertices.push(parseFloat(lineValues[2]));\n            colors.push(parseFloat(lineValues[3]) / 255);\n            colors.push(parseFloat(lineValues[4]) / 255);\n            colors.push(parseFloat(lineValues[5]) / 255);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var geometry = new BufferGeometry();\n      geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n      if (colors.length > 0) {\n        geometry.setAttribute(\"color\", new Float32BufferAttribute(colors, 3));\n      }\n      return geometry;\n    }\n  }]);\n  return XYZLoader;\n}(Loader);\nexport { XYZLoader };","map":{"version":3,"names":["XYZLoader","_Loader","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","load","url","onLoad","onProgress","onError","scope","loader","FileLoader","manager","setPath","path","setRequestHeader","requestHeader","setWithCredentials","withCredentials","text","parse","e","console","error","itemError","lines","split","vertices","colors","_iterator","_createForOfIteratorHelper","_step","s","n","done","line","trim","charAt","lineValues","length","push","parseFloat","err","f","geometry","BufferGeometry","setAttribute","Float32BufferAttribute","Loader"],"sources":["C:\\Users\\Nayyu\\Desktop\\skibidai-public-build\\node_modules\\src\\loaders\\XYZLoader.js"],"sourcesContent":["import { BufferGeometry, FileLoader, Float32BufferAttribute, Loader } from 'three'\n\nclass XYZLoader extends Loader {\n  load(url, onLoad, onProgress, onError) {\n    const scope = this\n\n    const loader = new FileLoader(this.manager)\n    loader.setPath(this.path)\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n    loader.load(\n      url,\n      function (text) {\n        try {\n          onLoad(scope.parse(text))\n        } catch (e) {\n          if (onError) {\n            onError(e)\n          } else {\n            console.error(e)\n          }\n\n          scope.manager.itemError(url)\n        }\n      },\n      onProgress,\n      onError,\n    )\n  }\n\n  parse(text) {\n    const lines = text.split('\\n')\n\n    const vertices = []\n    const colors = []\n\n    for (let line of lines) {\n      line = line.trim()\n\n      if (line.charAt(0) === '#') continue // skip comments\n\n      const lineValues = line.split(/\\s+/)\n\n      if (lineValues.length === 3) {\n        // XYZ\n\n        vertices.push(parseFloat(lineValues[0]))\n        vertices.push(parseFloat(lineValues[1]))\n        vertices.push(parseFloat(lineValues[2]))\n      }\n\n      if (lineValues.length === 6) {\n        // XYZRGB\n\n        vertices.push(parseFloat(lineValues[0]))\n        vertices.push(parseFloat(lineValues[1]))\n        vertices.push(parseFloat(lineValues[2]))\n\n        colors.push(parseFloat(lineValues[3]) / 255)\n        colors.push(parseFloat(lineValues[4]) / 255)\n        colors.push(parseFloat(lineValues[5]) / 255)\n      }\n    }\n\n    const geometry = new BufferGeometry()\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3))\n\n    if (colors.length > 0) {\n      geometry.setAttribute('color', new Float32BufferAttribute(colors, 3))\n    }\n\n    return geometry\n  }\n}\n\nexport { XYZLoader }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}