{"ast":null,"code":"import _objectWithoutProperties from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"frames\", \"resolution\", \"near\", \"far\", \"envMap\", \"fog\"];\nimport * as THREE from 'three';\nimport { WebGLCubeRenderTarget, HalfFloatType } from 'three';\nimport * as React from 'react';\nimport { useMemo, useEffect } from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nfunction useCubeCamera() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$resolution = _ref.resolution,\n    resolution = _ref$resolution === void 0 ? 256 : _ref$resolution,\n    _ref$near = _ref.near,\n    near = _ref$near === void 0 ? 0.1 : _ref$near,\n    _ref$far = _ref.far,\n    far = _ref$far === void 0 ? 1000 : _ref$far,\n    envMap = _ref.envMap,\n    fog = _ref.fog;\n  var gl = useThree(function (_ref2) {\n    var gl = _ref2.gl;\n    return gl;\n  });\n  var scene = useThree(function (_ref3) {\n    var scene = _ref3.scene;\n    return scene;\n  });\n  var fbo = useMemo(function () {\n    var fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  useEffect(function () {\n    return function () {\n      fbo.dispose();\n    };\n  }, [fbo]);\n  var camera = useMemo(function () {\n    return new THREE.CubeCamera(near, far, fbo);\n  }, [near, far, fbo]);\n  var originalFog;\n  var originalBackground;\n  var update = React.useCallback(function () {\n    originalFog = scene.fog;\n    originalBackground = scene.background;\n    scene.background = envMap || originalBackground;\n    scene.fog = fog || originalFog;\n    camera.update(gl, scene);\n    scene.fog = originalFog;\n    scene.background = originalBackground;\n  }, [gl, scene, camera]);\n  return {\n    fbo: fbo,\n    camera: camera,\n    update: update\n  };\n}\nfunction CubeCamera(_ref4) {\n  var children = _ref4.children,\n    _ref4$frames = _ref4.frames,\n    frames = _ref4$frames === void 0 ? Infinity : _ref4$frames,\n    resolution = _ref4.resolution,\n    near = _ref4.near,\n    far = _ref4.far,\n    envMap = _ref4.envMap,\n    fog = _ref4.fog,\n    props = _objectWithoutProperties(_ref4, _excluded);\n  var ref = React.useRef(null);\n  var _useCubeCamera = useCubeCamera({\n      resolution: resolution,\n      near: near,\n      far: far,\n      envMap: envMap,\n      fog: fog\n    }),\n    fbo = _useCubeCamera.fbo,\n    camera = _useCubeCamera.camera,\n    update = _useCubeCamera.update;\n  var count = 0;\n  useFrame(function () {\n    if (ref.current && (frames === Infinity || count < frames)) {\n      ref.current.visible = false;\n      update();\n      ref.current.visible = true;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: camera\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children == null ? void 0 : children(fbo.texture)));\n}\nexport { CubeCamera, useCubeCamera };","map":{"version":3,"names":["THREE","WebGLCubeRenderTarget","HalfFloatType","React","useMemo","useEffect","useThree","useFrame","useCubeCamera","_ref","arguments","length","undefined","_ref$resolution","resolution","_ref$near","near","_ref$far","far","envMap","fog","gl","_ref2","scene","_ref3","fbo","texture","type","dispose","camera","CubeCamera","originalFog","originalBackground","update","useCallback","background","_ref4","children","_ref4$frames","frames","Infinity","props","_objectWithoutProperties","_excluded","ref","useRef","_useCubeCamera","count","current","visible","createElement","object"],"sources":["C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@react-three/drei/core/CubeCamera.js"],"sourcesContent":["import * as THREE from 'three';\nimport { WebGLCubeRenderTarget, HalfFloatType } from 'three';\nimport * as React from 'react';\nimport { useMemo, useEffect } from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction useCubeCamera({\n  resolution = 256,\n  near = 0.1,\n  far = 1000,\n  envMap,\n  fog\n} = {}) {\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const fbo = useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  useEffect(() => {\n    return () => {\n      fbo.dispose();\n    };\n  }, [fbo]);\n  const camera = useMemo(() => new THREE.CubeCamera(near, far, fbo), [near, far, fbo]);\n  let originalFog;\n  let originalBackground;\n  const update = React.useCallback(() => {\n    originalFog = scene.fog;\n    originalBackground = scene.background;\n    scene.background = envMap || originalBackground;\n    scene.fog = fog || originalFog;\n    camera.update(gl, scene);\n    scene.fog = originalFog;\n    scene.background = originalBackground;\n  }, [gl, scene, camera]);\n  return {\n    fbo,\n    camera,\n    update\n  };\n}\nfunction CubeCamera({\n  children,\n  frames = Infinity,\n  resolution,\n  near,\n  far,\n  envMap,\n  fog,\n  ...props\n}) {\n  const ref = React.useRef(null);\n  const {\n    fbo,\n    camera,\n    update\n  } = useCubeCamera({\n    resolution,\n    near,\n    far,\n    envMap,\n    fog\n  });\n  let count = 0;\n  useFrame(() => {\n    if (ref.current && (frames === Infinity || count < frames)) {\n      ref.current.visible = false;\n      update();\n      ref.current.visible = true;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: camera\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children == null ? void 0 : children(fbo.texture)));\n}\n\nexport { CubeCamera, useCubeCamera };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}