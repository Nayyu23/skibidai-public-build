{"ast":null,"code":"import _classCallCheck from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Vector3, Quaternion, Object3D, Matrix4 } from \"three\";\nvar _position = new Vector3();\nvar _quaternion = new Quaternion();\nvar _scale = new Vector3();\nvar CSS3DObject = /*#__PURE__*/function (_Object3D) {\n  _inherits(CSS3DObject, _Object3D);\n  var _super = _createSuper(CSS3DObject);\n  function CSS3DObject() {\n    var _this2;\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement(\"div\");\n    _classCallCheck(this, CSS3DObject);\n    _this2 = _super.call(this);\n    _this2.isCSS3DObject = true;\n    _this2.element = element;\n    _this2.element.style.position = \"absolute\";\n    _this2.element.style.pointerEvents = \"auto\";\n    _this2.element.style.userSelect = \"none\";\n    _this2.element.setAttribute(\"draggable\", false);\n    _this2.addEventListener(\"removed\", function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n    return _this2;\n  }\n  _createClass(CSS3DObject, [{\n    key: \"copy\",\n    value: function copy(source, recursive) {\n      _get(_getPrototypeOf(CSS3DObject.prototype), \"copy\", this).call(this, source, recursive);\n      this.element = source.element.cloneNode(true);\n      return this;\n    }\n  }]);\n  return CSS3DObject;\n}(Object3D);\nvar CSS3DSprite = /*#__PURE__*/function (_CSS3DObject) {\n  _inherits(CSS3DSprite, _CSS3DObject);\n  var _super2 = _createSuper(CSS3DSprite);\n  function CSS3DSprite(element) {\n    var _this3;\n    _classCallCheck(this, CSS3DSprite);\n    _this3 = _super2.call(this, element);\n    _this3.isCSS3DSprite = true;\n    _this3.rotation2D = 0;\n    return _this3;\n  }\n  _createClass(CSS3DSprite, [{\n    key: \"copy\",\n    value: function copy(source, recursive) {\n      _get(_getPrototypeOf(CSS3DSprite.prototype), \"copy\", this).call(this, source, recursive);\n      this.rotation2D = source.rotation2D;\n      return this;\n    }\n  }]);\n  return CSS3DSprite;\n}(CSS3DObject);\nvar _matrix = new Matrix4();\nvar _matrix2 = new Matrix4();\nvar CSS3DRenderer = /*#__PURE__*/_createClass(function CSS3DRenderer() {\n  var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  _classCallCheck(this, CSS3DRenderer);\n  var _this = this;\n  var _width, _height;\n  var _widthHalf, _heightHalf;\n  var cache = {\n    camera: {\n      style: \"\"\n    },\n    objects: /* @__PURE__ */new WeakMap()\n  };\n  var domElement = parameters.element !== void 0 ? parameters.element : document.createElement(\"div\");\n  domElement.style.overflow = \"hidden\";\n  this.domElement = domElement;\n  var viewElement = document.createElement(\"div\");\n  viewElement.style.transformOrigin = \"0 0\";\n  viewElement.style.pointerEvents = \"none\";\n  domElement.appendChild(viewElement);\n  var cameraElement = document.createElement(\"div\");\n  cameraElement.style.transformStyle = \"preserve-3d\";\n  viewElement.appendChild(cameraElement);\n  this.getSize = function () {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n  this.render = function (scene, camera) {\n    var fov = camera.projectionMatrix.elements[5] * _heightHalf;\n    if (camera.view && camera.view.enabled) {\n      viewElement.style.transform = \"translate( \".concat(-camera.view.offsetX * (_width / camera.view.width), \"px, \").concat(-camera.view.offsetY * (_height / camera.view.height), \"px )\");\n      viewElement.style.transform += \"scale( \".concat(camera.view.fullWidth / camera.view.width, \", \").concat(camera.view.fullHeight / camera.view.height, \" )\");\n    } else {\n      viewElement.style.transform = \"\";\n    }\n    if (scene.matrixWorldAutoUpdate === true) scene.updateMatrixWorld();\n    if (camera.parent === null && camera.matrixWorldAutoUpdate === true) camera.updateMatrixWorld();\n    var tx, ty;\n    if (camera.isOrthographicCamera) {\n      tx = -(camera.right + camera.left) / 2;\n      ty = (camera.top + camera.bottom) / 2;\n    }\n    var scaleByViewOffset = camera.view && camera.view.enabled ? camera.view.height / camera.view.fullHeight : 1;\n    var cameraCSSMatrix = camera.isOrthographicCamera ? \"scale( \".concat(scaleByViewOffset, \" )scale(\") + fov + \")translate(\" + epsilon(tx) + \"px,\" + epsilon(ty) + \"px)\" + getCameraCSSMatrix(camera.matrixWorldInverse) : \"scale( \".concat(scaleByViewOffset, \" )translateZ(\") + fov + \"px)\" + getCameraCSSMatrix(camera.matrixWorldInverse);\n    var perspective = camera.isPerspectiveCamera ? \"perspective(\" + fov + \"px) \" : \"\";\n    var style = perspective + cameraCSSMatrix + \"translate(\" + _widthHalf + \"px,\" + _heightHalf + \"px)\";\n    if (cache.camera.style !== style) {\n      cameraElement.style.transform = style;\n      cache.camera.style = style;\n    }\n    renderObject(scene, scene, camera);\n  };\n  this.setSize = function (width, height) {\n    _width = width;\n    _height = height;\n    _widthHalf = _width / 2;\n    _heightHalf = _height / 2;\n    domElement.style.width = width + \"px\";\n    domElement.style.height = height + \"px\";\n    viewElement.style.width = width + \"px\";\n    viewElement.style.height = height + \"px\";\n    cameraElement.style.width = width + \"px\";\n    cameraElement.style.height = height + \"px\";\n  };\n  function epsilon(value) {\n    return Math.abs(value) < 1e-10 ? 0 : value;\n  }\n  function getCameraCSSMatrix(matrix) {\n    var elements = matrix.elements;\n    return \"matrix3d(\" + epsilon(elements[0]) + \",\" + epsilon(-elements[1]) + \",\" + epsilon(elements[2]) + \",\" + epsilon(elements[3]) + \",\" + epsilon(elements[4]) + \",\" + epsilon(-elements[5]) + \",\" + epsilon(elements[6]) + \",\" + epsilon(elements[7]) + \",\" + epsilon(elements[8]) + \",\" + epsilon(-elements[9]) + \",\" + epsilon(elements[10]) + \",\" + epsilon(elements[11]) + \",\" + epsilon(elements[12]) + \",\" + epsilon(-elements[13]) + \",\" + epsilon(elements[14]) + \",\" + epsilon(elements[15]) + \")\";\n  }\n  function getObjectCSSMatrix(matrix) {\n    var elements = matrix.elements;\n    var matrix3d = \"matrix3d(\" + epsilon(elements[0]) + \",\" + epsilon(elements[1]) + \",\" + epsilon(elements[2]) + \",\" + epsilon(elements[3]) + \",\" + epsilon(-elements[4]) + \",\" + epsilon(-elements[5]) + \",\" + epsilon(-elements[6]) + \",\" + epsilon(-elements[7]) + \",\" + epsilon(elements[8]) + \",\" + epsilon(elements[9]) + \",\" + epsilon(elements[10]) + \",\" + epsilon(elements[11]) + \",\" + epsilon(elements[12]) + \",\" + epsilon(elements[13]) + \",\" + epsilon(elements[14]) + \",\" + epsilon(elements[15]) + \")\";\n    return \"translate(-50%,-50%)\" + matrix3d;\n  }\n  function renderObject(object, scene, camera, cameraCSSMatrix) {\n    if (object.isCSS3DObject) {\n      var visible = object.visible === true && object.layers.test(camera.layers) === true;\n      object.element.style.display = visible === true ? \"\" : \"none\";\n      if (visible === true) {\n        object.onBeforeRender(_this, scene, camera);\n        var style;\n        if (object.isCSS3DSprite) {\n          _matrix.copy(camera.matrixWorldInverse);\n          _matrix.transpose();\n          if (object.rotation2D !== 0) _matrix.multiply(_matrix2.makeRotationZ(object.rotation2D));\n          object.matrixWorld.decompose(_position, _quaternion, _scale);\n          _matrix.setPosition(_position);\n          _matrix.scale(_scale);\n          _matrix.elements[3] = 0;\n          _matrix.elements[7] = 0;\n          _matrix.elements[11] = 0;\n          _matrix.elements[15] = 1;\n          style = getObjectCSSMatrix(_matrix);\n        } else {\n          style = getObjectCSSMatrix(object.matrixWorld);\n        }\n        var element = object.element;\n        var cachedObject = cache.objects.get(object);\n        if (cachedObject === void 0 || cachedObject.style !== style) {\n          element.style.transform = style;\n          var objectData = {\n            style: style\n          };\n          cache.objects.set(object, objectData);\n        }\n        if (element.parentNode !== cameraElement) {\n          cameraElement.appendChild(element);\n        }\n        object.onAfterRender(_this, scene, camera);\n      }\n    }\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], scene, camera);\n    }\n  }\n});\nexport { CSS3DObject, CSS3DRenderer, CSS3DSprite };","map":{"version":3,"names":["_position","Vector3","_quaternion","Quaternion","_scale","CSS3DObject","_Object3D","_inherits","_super","_createSuper","_this2","element","arguments","length","undefined","document","createElement","_classCallCheck","call","isCSS3DObject","style","position","pointerEvents","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","_createClass","key","value","copy","source","recursive","_get","_getPrototypeOf","prototype","cloneNode","Object3D","CSS3DSprite","_CSS3DObject","_super2","_this3","isCSS3DSprite","rotation2D","_matrix","Matrix4","_matrix2","CSS3DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","camera","objects","WeakMap","domElement","overflow","viewElement","transformOrigin","appendChild","cameraElement","transformStyle","getSize","width","height","render","scene","fov","projectionMatrix","elements","view","enabled","transform","concat","offsetX","offsetY","fullWidth","fullHeight","matrixWorldAutoUpdate","updateMatrixWorld","parent","tx","ty","isOrthographicCamera","right","left","top","bottom","scaleByViewOffset","cameraCSSMatrix","epsilon","getCameraCSSMatrix","matrixWorldInverse","perspective","isPerspectiveCamera","renderObject","setSize","Math","abs","matrix","getObjectCSSMatrix","matrix3d","visible","layers","test","display","onBeforeRender","transpose","multiply","makeRotationZ","matrixWorld","decompose","setPosition","scale","cachedObject","get","objectData","set","onAfterRender","i","l","children"],"sources":["C:\\Users\\Nayyu\\Desktop\\skibidai-public-build\\node_modules\\src\\renderers\\CSS3DRenderer.js"],"sourcesContent":["import { Matrix4, Object3D, Quaternion, Vector3 } from 'three'\n\n/**\n * Based on http://www.emagix.net/academic/mscs-project/item/camera-sync-with-css3-and-webgl-threejs\n */\n\nconst _position = new Vector3()\nconst _quaternion = new Quaternion()\nconst _scale = new Vector3()\n\nclass CSS3DObject extends Object3D {\n  constructor(element = document.createElement('div')) {\n    super()\n\n    this.isCSS3DObject = true\n\n    this.element = element\n    this.element.style.position = 'absolute'\n    this.element.style.pointerEvents = 'auto'\n    this.element.style.userSelect = 'none'\n\n    this.element.setAttribute('draggable', false)\n\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element)\n        }\n      })\n    })\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive)\n\n    this.element = source.element.cloneNode(true)\n\n    return this\n  }\n}\n\nclass CSS3DSprite extends CSS3DObject {\n  constructor(element) {\n    super(element)\n\n    this.isCSS3DSprite = true\n\n    this.rotation2D = 0\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive)\n\n    this.rotation2D = source.rotation2D\n\n    return this\n  }\n}\n\n//\n\nconst _matrix = new Matrix4()\nconst _matrix2 = new Matrix4()\n\nclass CSS3DRenderer {\n  constructor(parameters = {}) {\n    const _this = this\n\n    let _width, _height\n    let _widthHalf, _heightHalf\n\n    const cache = {\n      camera: { style: '' },\n      objects: new WeakMap(),\n    }\n\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div')\n\n    domElement.style.overflow = 'hidden'\n\n    this.domElement = domElement\n\n    const viewElement = document.createElement('div')\n    viewElement.style.transformOrigin = '0 0'\n    viewElement.style.pointerEvents = 'none'\n    domElement.appendChild(viewElement)\n\n    const cameraElement = document.createElement('div')\n\n    cameraElement.style.transformStyle = 'preserve-3d'\n\n    viewElement.appendChild(cameraElement)\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height,\n      }\n    }\n\n    this.render = function (scene, camera) {\n      const fov = camera.projectionMatrix.elements[5] * _heightHalf\n\n      if (camera.view && camera.view.enabled) {\n        // view offset\n        viewElement.style.transform = `translate( ${-camera.view.offsetX * (_width / camera.view.width)}px, ${\n          -camera.view.offsetY * (_height / camera.view.height)\n        }px )`\n\n        // view fullWidth and fullHeight, view width and height\n        viewElement.style.transform += `scale( ${camera.view.fullWidth / camera.view.width}, ${\n          camera.view.fullHeight / camera.view.height\n        } )`\n      } else {\n        viewElement.style.transform = ''\n      }\n\n      if (scene.matrixWorldAutoUpdate === true) scene.updateMatrixWorld()\n      if (camera.parent === null && camera.matrixWorldAutoUpdate === true) camera.updateMatrixWorld()\n\n      let tx, ty\n\n      if (camera.isOrthographicCamera) {\n        tx = -(camera.right + camera.left) / 2\n        ty = (camera.top + camera.bottom) / 2\n      }\n\n      const scaleByViewOffset = camera.view && camera.view.enabled ? camera.view.height / camera.view.fullHeight : 1\n      const cameraCSSMatrix = camera.isOrthographicCamera\n        ? `scale( ${scaleByViewOffset} )` +\n          'scale(' +\n          fov +\n          ')' +\n          'translate(' +\n          epsilon(tx) +\n          'px,' +\n          epsilon(ty) +\n          'px)' +\n          getCameraCSSMatrix(camera.matrixWorldInverse)\n        : `scale( ${scaleByViewOffset} )` + 'translateZ(' + fov + 'px)' + getCameraCSSMatrix(camera.matrixWorldInverse)\n      const perspective = camera.isPerspectiveCamera ? 'perspective(' + fov + 'px) ' : ''\n\n      const style = perspective + cameraCSSMatrix + 'translate(' + _widthHalf + 'px,' + _heightHalf + 'px)'\n\n      if (cache.camera.style !== style) {\n        cameraElement.style.transform = style\n\n        cache.camera.style = style\n      }\n\n      renderObject(scene, scene, camera, cameraCSSMatrix)\n    }\n\n    this.setSize = function (width, height) {\n      _width = width\n      _height = height\n      _widthHalf = _width / 2\n      _heightHalf = _height / 2\n\n      domElement.style.width = width + 'px'\n      domElement.style.height = height + 'px'\n\n      viewElement.style.width = width + 'px'\n      viewElement.style.height = height + 'px'\n\n      cameraElement.style.width = width + 'px'\n      cameraElement.style.height = height + 'px'\n    }\n\n    function epsilon(value) {\n      return Math.abs(value) < 1e-10 ? 0 : value\n    }\n\n    function getCameraCSSMatrix(matrix) {\n      const elements = matrix.elements\n\n      return (\n        'matrix3d(' +\n        epsilon(elements[0]) +\n        ',' +\n        epsilon(-elements[1]) +\n        ',' +\n        epsilon(elements[2]) +\n        ',' +\n        epsilon(elements[3]) +\n        ',' +\n        epsilon(elements[4]) +\n        ',' +\n        epsilon(-elements[5]) +\n        ',' +\n        epsilon(elements[6]) +\n        ',' +\n        epsilon(elements[7]) +\n        ',' +\n        epsilon(elements[8]) +\n        ',' +\n        epsilon(-elements[9]) +\n        ',' +\n        epsilon(elements[10]) +\n        ',' +\n        epsilon(elements[11]) +\n        ',' +\n        epsilon(elements[12]) +\n        ',' +\n        epsilon(-elements[13]) +\n        ',' +\n        epsilon(elements[14]) +\n        ',' +\n        epsilon(elements[15]) +\n        ')'\n      )\n    }\n\n    function getObjectCSSMatrix(matrix) {\n      const elements = matrix.elements\n      const matrix3d =\n        'matrix3d(' +\n        epsilon(elements[0]) +\n        ',' +\n        epsilon(elements[1]) +\n        ',' +\n        epsilon(elements[2]) +\n        ',' +\n        epsilon(elements[3]) +\n        ',' +\n        epsilon(-elements[4]) +\n        ',' +\n        epsilon(-elements[5]) +\n        ',' +\n        epsilon(-elements[6]) +\n        ',' +\n        epsilon(-elements[7]) +\n        ',' +\n        epsilon(elements[8]) +\n        ',' +\n        epsilon(elements[9]) +\n        ',' +\n        epsilon(elements[10]) +\n        ',' +\n        epsilon(elements[11]) +\n        ',' +\n        epsilon(elements[12]) +\n        ',' +\n        epsilon(elements[13]) +\n        ',' +\n        epsilon(elements[14]) +\n        ',' +\n        epsilon(elements[15]) +\n        ')'\n\n      return 'translate(-50%,-50%)' + matrix3d\n    }\n\n    function renderObject(object, scene, camera, cameraCSSMatrix) {\n      if (object.isCSS3DObject) {\n        const visible = object.visible === true && object.layers.test(camera.layers) === true\n        object.element.style.display = visible === true ? '' : 'none'\n\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera)\n\n          let style\n\n          if (object.isCSS3DSprite) {\n            // http://swiftcoder.wordpress.com/2008/11/25/constructing-a-billboard-matrix/\n\n            _matrix.copy(camera.matrixWorldInverse)\n            _matrix.transpose()\n\n            if (object.rotation2D !== 0) _matrix.multiply(_matrix2.makeRotationZ(object.rotation2D))\n\n            object.matrixWorld.decompose(_position, _quaternion, _scale)\n            _matrix.setPosition(_position)\n            _matrix.scale(_scale)\n\n            _matrix.elements[3] = 0\n            _matrix.elements[7] = 0\n            _matrix.elements[11] = 0\n            _matrix.elements[15] = 1\n\n            style = getObjectCSSMatrix(_matrix)\n          } else {\n            style = getObjectCSSMatrix(object.matrixWorld)\n          }\n\n          const element = object.element\n          const cachedObject = cache.objects.get(object)\n\n          if (cachedObject === undefined || cachedObject.style !== style) {\n            element.style.transform = style\n\n            const objectData = { style: style }\n            cache.objects.set(object, objectData)\n          }\n\n          if (element.parentNode !== cameraElement) {\n            cameraElement.appendChild(element)\n          }\n\n          object.onAfterRender(_this, scene, camera)\n        }\n      }\n\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera, cameraCSSMatrix)\n      }\n    }\n  }\n}\n\nexport { CSS3DObject, CSS3DSprite, CSS3DRenderer }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}