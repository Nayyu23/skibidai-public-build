{"ast":null,"code":"import _classCallCheck from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Nayyu/Desktop/skibidai-public-build/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Loader, CanvasTexture, NearestFilter, FileLoader } from \"three\";\nimport lottie from \"../libs/lottie.js\";\nvar LottieLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(LottieLoader, _Loader);\n  var _super = _createSuper(LottieLoader);\n  function LottieLoader() {\n    _classCallCheck(this, LottieLoader);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LottieLoader, [{\n    key: \"setQuality\",\n    value: function setQuality(value) {\n      this._quality = value;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var quality = this._quality || 1;\n      var texture = new CanvasTexture();\n      texture.minFilter = NearestFilter;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        var data = JSON.parse(text);\n        var container = document.createElement(\"div\");\n        container.style.width = data.w + \"px\";\n        container.style.height = data.h + \"px\";\n        document.body.appendChild(container);\n        var animation = lottie.loadAnimation({\n          container: container,\n          animType: \"canvas\",\n          loop: true,\n          autoplay: true,\n          animationData: data,\n          rendererSettings: {\n            dpr: quality\n          }\n        });\n        texture.animation = animation;\n        texture.image = animation.container;\n        animation.addEventListener(\"enterFrame\", function () {\n          texture.needsUpdate = true;\n        });\n        container.style.display = \"none\";\n        if (onLoad !== void 0) {\n          onLoad(texture);\n        }\n      }, onProgress, onError);\n      return texture;\n    }\n  }]);\n  return LottieLoader;\n}(Loader);\nexport { LottieLoader };","map":{"version":3,"names":["LottieLoader","_Loader","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","setQuality","_quality","load","url","onLoad","onProgress","onError","quality","texture","CanvasTexture","minFilter","NearestFilter","loader","FileLoader","manager","setPath","path","setWithCredentials","withCredentials","text","data","JSON","parse","container","document","createElement","style","width","w","height","h","body","appendChild","animation","lottie","loadAnimation","animType","loop","autoplay","animationData","rendererSettings","dpr","image","addEventListener","needsUpdate","display","Loader"],"sources":["C:\\Users\\Nayyu\\Desktop\\skibidai-public-build\\node_modules\\src\\loaders\\LottieLoader.js"],"sourcesContent":["import { FileLoader, Loader, CanvasTexture, NearestFilter } from 'three'\nimport lottie from '../libs/lottie'\n\nclass LottieLoader extends Loader {\n  setQuality(value) {\n    this._quality = value\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const quality = this._quality || 1\n\n    const texture = new CanvasTexture()\n    texture.minFilter = NearestFilter\n\n    const loader = new FileLoader(this.manager)\n    loader.setPath(this.path)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      function (text) {\n        const data = JSON.parse(text)\n\n        // bodymoving uses container.offetWidth and offsetHeight\n        // to define width/height\n\n        const container = document.createElement('div')\n        container.style.width = data.w + 'px'\n        container.style.height = data.h + 'px'\n        document.body.appendChild(container)\n\n        const animation = lottie.loadAnimation({\n          container: container,\n          animType: 'canvas',\n          loop: true,\n          autoplay: true,\n          animationData: data,\n          rendererSettings: { dpr: quality },\n        })\n\n        texture.animation = animation\n        texture.image = animation.container\n\n        animation.addEventListener('enterFrame', function () {\n          texture.needsUpdate = true\n        })\n\n        container.style.display = 'none'\n\n        if (onLoad !== undefined) {\n          onLoad(texture)\n        }\n      },\n      onProgress,\n      onError,\n    )\n\n    return texture\n  }\n}\n\nexport { LottieLoader }\n"],"mappings":";;;;;;IAGMA,YAAA,0BAAAC,OAAA;EAAAC,SAAA,CAAAF,YAAA,EAAAC,OAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,YAAA;EAAA,SAAAA,aAAA;IAAAK,eAAA,OAAAL,YAAA;IAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;EAAAC,YAAA,CAAAR,YAAA;IAAAS,GAAA;IAAAC,KAAA,EACJ,SAAAC,WAAWD,KAAA,EAAO;MAChB,KAAKE,QAAA,GAAWF,KAAA;IACjB;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAED,SAAAG,KAAKC,GAAA,EAAKC,MAAA,EAAQC,UAAA,EAAYC,OAAA,EAAS;MACrC,IAAMC,OAAA,GAAU,KAAKN,QAAA,IAAY;MAEjC,IAAMO,OAAA,GAAU,IAAIC,aAAA,CAAe;MACnCD,OAAA,CAAQE,SAAA,GAAYC,aAAA;MAEpB,IAAMC,MAAA,GAAS,IAAIC,UAAA,CAAW,KAAKC,OAAO;MAC1CF,MAAA,CAAOG,OAAA,CAAQ,KAAKC,IAAI;MACxBJ,MAAA,CAAOK,kBAAA,CAAmB,KAAKC,eAAe;MAE9CN,MAAA,CAAOV,IAAA,CACLC,GAAA,EACA,UAAUgB,IAAA,EAAM;QACd,IAAMC,IAAA,GAAOC,IAAA,CAAKC,KAAA,CAAMH,IAAI;QAK5B,IAAMI,SAAA,GAAYC,QAAA,CAASC,aAAA,CAAc,KAAK;QAC9CF,SAAA,CAAUG,KAAA,CAAMC,KAAA,GAAQP,IAAA,CAAKQ,CAAA,GAAI;QACjCL,SAAA,CAAUG,KAAA,CAAMG,MAAA,GAAST,IAAA,CAAKU,CAAA,GAAI;QAClCN,QAAA,CAASO,IAAA,CAAKC,WAAA,CAAYT,SAAS;QAEnC,IAAMU,SAAA,GAAYC,MAAA,CAAOC,aAAA,CAAc;UACrCZ,SAAA,EAAAA,SAAA;UACAa,QAAA,EAAU;UACVC,IAAA,EAAM;UACNC,QAAA,EAAU;UACVC,aAAA,EAAenB,IAAA;UACfoB,gBAAA,EAAkB;YAAEC,GAAA,EAAKlC;UAAS;QAC5C,CAAS;QAEDC,OAAA,CAAQyB,SAAA,GAAYA,SAAA;QACpBzB,OAAA,CAAQkC,KAAA,GAAQT,SAAA,CAAUV,SAAA;QAE1BU,SAAA,CAAUU,gBAAA,CAAiB,cAAc,YAAY;UACnDnC,OAAA,CAAQoC,WAAA,GAAc;QAChC,CAAS;QAEDrB,SAAA,CAAUG,KAAA,CAAMmB,OAAA,GAAU;QAE1B,IAAIzC,MAAA,KAAW,QAAW;UACxBA,MAAA,CAAOI,OAAO;QACf;MACF,GACDH,UAAA,EACAC,OACD;MAED,OAAOE,OAAA;IACR;EAAA;EAAA,OAAAnB,YAAA;AAAA,EAvDwByD,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}